C - RANDOM / 
実行時間制限: 2 sec / メモリ制限: 1024 MB

配点 : 300 点

問題文
# と . からなる H 行 W 列の図形 S,T が与えられます。
図形 S は H 個の文字列として与えられ、 S 
i
​
  の j 文字目は S の i 行 j 列にある要素を表します。 T についても同様です。

S の列を並べ替えて T と等しくできるか判定してください。

但し、図形 X の列を並べ替えるとは、以下の操作を言います。

(1,2,…,W) の順列 P=(P 
1
​
 ,P 
2
​
 ,…,P 
W
​
 ) をひとつ選択する。
その後、全ての 1≤i≤H を満たす整数 i について、以下の操作を同時に行う。
1≤j≤W を満たす全ての整数 j について同時に、 X の i 行 j 列にある要素を i 行 P 
j
​
  列にある要素に置き換える。
制約
H,W は整数
1≤H,W
1≤H×W≤4×10 
5
 
S 
i
​
 ,T 
i
​
  は # と . からなる長さ W の文字列
入力
入力は以下の形式で標準入力から与えられる。

H W
S 
1
​
 
S 
2
​
 
⋮
S 
H
​
 
T 
1
​
 
T 
2
​
 
⋮
T 
H
​
 
出力
S を T と等しくできるなら Yes 、 そうでないなら No と出力せよ。

